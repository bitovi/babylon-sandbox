BABYLON.Effect.ShadersStore["OutlineFragmentShader"]=
"uniform sampler2D passSampler;"+
"uniform sampler2D maskSampler;"+
"varying vec2 vUV;"+
"void main(void)"+
"{"+
"vec4 orig = texture2D(passSampler, vUV);"+
"vec4 mask = texture2D(maskSampler, vUV);"+
"float dx = 0.0005208 * 1.5;"+
"float dy = 0.001923 * 1.5;"+
"float c0 = texture2D( maskSampler, vec2( vUV.x, vUV.y ) ).r;"+
"float c1 = texture2D( maskSampler, vec2( vUV.x + dx, vUV.y + dy ) ).r;"+
"float c2 = texture2D( maskSampler, vec2( vUV.x - dx, vUV.y + dy ) ).r;"+
"float c3 = texture2D( maskSampler, vec2( vUV.x + dx, vUV.y - dy ) ).r;"+
"float c4 = texture2D( maskSampler, vec2( vUV.x - dx, vUV.y - dy ) ).r;"+
"float c5 = texture2D( maskSampler, vec2( vUV.x + dx, vUV.y ) ).r;"+
"float c6 = texture2D( maskSampler, vec2( vUV.x - dx, vUV.y ) ).r;"+
"float c7 = texture2D( maskSampler, vec2( vUV.x, vUV.y + dy ) ).r;"+
"float c8 = texture2D( maskSampler, vec2( vUV.x, vUV.y - dy ) ).r;"+
"float adjacent = 0.0;"+
"adjacent = max( adjacent, c1 );"+
"adjacent = max( adjacent, c2 );"+
"adjacent = max( adjacent, c3 );"+
"adjacent = max( adjacent, c4 );"+
"adjacent = max( adjacent, c5 );"+
"adjacent = max( adjacent, c6 );"+
"adjacent = max( adjacent, c7 );"+
"adjacent = max( adjacent, c8 );"+
"float n = 1.0 - ( adjacent - c0);"+
"clamp(n, 0.0, 1.0);"+
"vec3 color = orig.rgb * n + (1.0- n) * vec3(0.4, 1.0, 0.6);"+
"gl_FragColor = vec4( color, 1.0 );"+
"}";